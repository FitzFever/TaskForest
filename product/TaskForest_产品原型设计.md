# TaskForest 产品原型设计

## 一、核心界面原型

### 1. 主界面布局

```mermaid
graph TD
    A[主界面] --> B[顶部导航栏]
    A --> C[左侧任务面板]
    A --> D[中央森林视图]
    A --> E[右侧状态面板]
    
    B --> B1[用户信息]
    B --> B2[设置]
    B --> B3[通知]
    
    C --> C1[任务列表]
    C --> C2[新建任务]
    C --> C3[任务筛选]
    
    D --> D1[3D森林场景]
    D --> D2[视角控制]
    D --> D3[时间轴]
    
    E --> E1[任务统计]
    E --> E2[成就系统]
    E --> E3[树木图鉴]
```

### 2. 任务创建流程

```mermaid
sequenceDiagram
    participant U as 用户
    participant T as 任务创建界面
    participant A as AI助手
    participant S as 系统

    U->>T: 点击"新建任务"
    T->>U: 显示任务表单
    U->>T: 输入任务信息
    U->>T: 选择是否需要AI拆解
    opt AI任务拆解
        T->>A: 请求任务分析
        A->>T: 返回拆解建议
        U->>T: 确认/修改拆解方案
    end
    T->>S: 提交任务信息
    S->>T: 生成任务树木
    T->>U: 显示创建成功
```

### 3. 任务管理界面

```mermaid
graph LR
    A[任务管理] --> B[待办任务]
    A --> C[进行中]
    A --> D[已完成]
    
    B --> B1[优先级标记]
    B --> B2[截止时间]
    B --> B3[任务类型]
    
    C --> C1[进度条]
    C --> C2[剩余时间]
    C --> C3[健康状态]
    
    D --> D1[完成时间]
    D --> D2[成就标记]
    D --> D3[历史记录]
```

## 二、界面详细设计

### 1. 任务创建表单

```
+------------------------+
|     创建新任务         |
+------------------------+
| 任务名称：            |
| [                    ] |
+------------------------+
| 任务类型：            |
| [选择对应树木类型 v  ] |
+------------------------+
| 截止日期：            |
| [日期选择器          ] |
+------------------------+
| 任务优先级：          |
| ○ 低  ○ 中  ○ 高     |
+------------------------+
| 任务描述：            |
| [                    ] |
| [                    ] |
+------------------------+
| □ 需要AI任务拆解      |
+------------------------+
|  [取消]    [创建任务] |
+------------------------+
```

### 2. 森林视图控制

```
+------------------------+
|     森林视图控制      |
+------------------------+
|    [缩放] [旋转]      |
|    [平移] [重置]      |
+------------------------+
|     时间筛选          |
| [日] [周] [月] [年]   |
+------------------------+
|     视图模式          |
| [全部] [进行中] [完成]|
+------------------------+
```

### 3. 任务详情卡片

```
+------------------------+
|     任务详情          |
+------------------------+
| 任务名称：项目报告    |
| 类型：工作任务（枫树）|
| 创建时间：2024-03-20  |
| 截止时间：2024-03-25  |
+------------------------+
| 当前状态：进行中      |
| 生命值：75%           |
| [===========    ]     |
+------------------------+
| 子任务进度：          |
| - 数据收集 ✓          |
| - 分析报告 ⋯          |
| - 审核确认            |
+------------------------+
| [编辑] [完成] [删除]  |
+------------------------+
```

### 4. 成就系统界面

```
+------------------------+
|     成就中心          |
+------------------------+
| 已解锁树种：          |
| [橡树] [松树] [樱花树]|
| [枫树] [???] [???]    |
+------------------------+
| 当前成就：            |
| 🏆 任务达人           |
| ⭐ 准时之王           |
| 🌟 森林守护者         |
+------------------------+
| 下个目标：            |
| 解锁稀有树种：星光树  |
| 进度：7/10           |
+------------------------+
```

## 三、状态流转设计

### 1. 树木生命状态流转

```mermaid
stateDiagram-v2
    [*] --> 健康
    健康 --> 轻微枯萎: 进度落后
    轻微枯萎 --> 中度枯萎: 严重延期
    中度枯萎 --> 严重枯萎: 超过DDL
    
    轻微枯萎 --> 健康: 更新进度
    中度枯萎 --> 轻微枯萎: 调整DDL
    严重枯萎 --> 中度枯萎: 重新激活
    
    健康 --> 成熟: 完成任务
    成熟 --> [*]
```

### 2. 任务状态流转

```mermaid
stateDiagram-v2
    [*] --> 待办
    待办 --> 进行中: 开始任务
    进行中 --> 已完成: 完成任务
    进行中 --> 延期: 超过DDL
    延期 --> 进行中: 调整DDL
    已完成 --> [*]
```

## 四、交互设计说明

### 1. 基础交互原则
- 所有操作应在3次点击内完成
- 提供明确的视觉反馈
- 重要操作需二次确认
- 支持键盘快捷操作

### 2. 手势操作设计
- 双指缩放：调整森林视图大小
- 单指拖动：平移视角
- 双指旋转：调整视角角度
- 点击树木：显示任务详情
- 长按树木：进入编辑模式

### 3. 动画过渡效果
- 任务创建：种子落地生根动画
- 任务完成：树木绽放动画
- 状态切换：渐变过渡效果
- 视图切换：平滑移动效果

### 4. 反馈机制设计
- 操作成功：绿色提示+成功音效
- 操作失败：红色提示+警告音效
- 任务提醒：通知推送+树木闪烁
- 成就达成：庆祝动画+特殊音效

## 五、原型交互说明

### 1. 任务创建流程
1. 点击左侧面板"+"按钮
2. 填写任务基本信息
3. 选择是否需要AI拆解
4. 确认创建，观看种子种植动画
5. 任务出现在任务列表和森林中

### 2. 任务监控流程
1. 在森林中查看任务树木状态
2. 点击树木查看详细信息
3. 更新任务进度
4. 观察树木生命状态变化
5. 根据需要调整任务计划

### 3. 森林管理流程
1. 使用时间轴筛选显示范围
2. 调整视角浏览森林全景
3. 查看任务完成情况统计
4. 检查成就完成进度
5. 规划森林布局和发展

## 六、注意事项

### 1. 界面设计原则
- 保持界面简洁清晰
- 确保视觉层级合理
- 提供足够的操作反馈
- 保持交互一致性

### 2. 性能考虑
- 优化3D场景加载
- 控制动画效果数量
- 合理使用资源缓存
- 优化数据加载策略

### 3. 用户体验
- 提供新手引导教程
- 设计容错机制
- 支持操作撤销
- 保存用户使用习惯

---

*本文档由产品经理张明负责维护，将根据项目进展持续更新* 